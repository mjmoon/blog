<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>대한민국 법정구역 지도 &#8211; micbon blog</title> <meta name="description" content="this blog is my personal space for sharing my latest interests."> <meta name="keywords" content="d3js, datavis, map"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://blog.micbon.com/assets/img/logo.png"> <meta name="twitter:title" content="대한민국 법정구역 지도"> <meta name="twitter:description" content="최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»읍면동)까지 볼 수 있습니다."> <!-- Open Graph --> <meta property="og:locale" content="en_CA"> <meta property="og:type" content="article"> <meta property="og:title" content="대한민국 법정구역 지도"> <meta property="og:description" content="최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»읍면동)까지 볼 수 있습니다."> <meta property="og:url" content="https://blog.micbon.com/post/kor-map/"> <meta property="og:site_name" content="micbon blog"> <meta property="og:image" content="https://blog.micbon.com/assets/img/logo.png"> <link rel="canonical" href="https://blog.micbon.com/post/kor-map/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- JS --> <script src="/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="shortcut icon" href="/favicon.ico" /> <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"> <!-- Background Image --> <!-- Post Feature Image --> <!-- Use Atom --> <link type="application/atom+xml" rel="alternate" href="https://blog.micbon.com/feed.xml" title="micbon blog" /> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li> <form id="search"> <input type="text" name="q" id="search-box" placeholder="Search" /> </form> </li> <li><a href="/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="/assets/img/logo.png" alt="micbon blog photo" class="author-photo"> <h4>micbon blog</h4> <p>this blog is my personal space for sharing my latest interests.</p> </li> <li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:micbon.site@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://linkedin.com/in/mjmoon" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://instagram.com/micbonmoon" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-instagram"></i> Instagram</a> </li> <li> <a href="http://github.com/mjmoon" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Archives</a> <ul class="dl-submenu"> <li><a href="/archive/">By date</a></li> <li><a href="/tags/">By tags</a></li> </ul> </li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>대한민국 법정구역 지도</h1> <h4>14 Aug 2018</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~2 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="https://blog.micbon.com"> <i class="fa fa-chevron-left"></i> </a> </div> <p>최근 <code class="highlighter-rouge">d3js</code>를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 <a href="https://blog.micbon.com/post/peace-map.html" target="_blank">글</a>에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계<sub>(시도»시군구»읍면동)</sub>까지 볼 수 있습니다.</p> <link rel="stylesheet" href="/assets/css/plot/2018-08-09-kor-map.css" /> <div id="k-map" class="row"> <div class="6u 12u$(small)"> <div id="main-map" class="map-container"> </div> </div> <div class="6u$ 12u$(small)"> <div class="meta"> <div> <!-- <h1>대한민국 법정구역 지도</h1> <h2>Map of Republic of Korea</h2> --> </div> <div class="widget"> <label class="switch"> <input type="checkbox" name="theme-toggle" id="theme-toggle" onclick="toggleTheme()" /> <span class="check-slider"></span> </label> <label for="theme-toggle" class="switch-label">Dark Theme</label> </div> <div id="ctprvn-nm" class="display"></div> <div id="sig-nm" class="display"></div> <div id="emd-nm" class="display"></div> </div> </div> </div> <script src="https://d3js.org/d3.v5.min.js"></script> <script src="http://d3js.org/topojson.v1.min.js"></script> <script src="/assets/js/plot/2018-08-09-kor-map.js"></script> <p><a href="https://github.com/mjmoon/kor-map" target="_blank"><i class="fa fa-github"></i> Github Repository</a></p> <h2 id="1-공간정보-받아오기">1. 공간정보 받아오기</h2> <p>지도를 표시하기 위해서는 시도, 시군구 및 읍면동 정보를 포함한 한국 지역 공간정보가 필요했습니다. 구글 검색을 통해서 <a href="http://www.gisdeveloper.co.kr/?p=2332">지오서비스</a>에서 해당 정보가 포함된 <em>shapefile</em> 데이터를 받을 수 있었습니다. 사용한 자료는 2018년 4월 업데이트 공간정보입니다.</p> <h2 id="2-주소코드정보-받아오기">2. 주소코드정보 받아오기</h2> <p>위에서 받아온 공간정보 자료는 시도, 시군구, 읍면동(법정동) 구분하여 자료마다 단계별 지역 정보만 포함이 되어있었습니다. 세 단계의 지역 정보를 이어주기 위한 - 예를 들어서 이촌동(읍면동)을 용산구(시군구)와 잇고 다시 서울특별시(시도)와 잇기 위한 주소정보가 필요하였습니다. 해당 정보는 <a href="http://www.mois.go.kr/frt/bbs/type001/commonSelectBoardArticle.do?bbsId=BBSMSTR_000000000052&amp;nttId=62603" target="_blank">행정안전부 사이트</a>에서 엑셀 파일으로 구할 수 있었습니다.</p> <h2 id="3-영문-정보-조합하기">3. 영문 정보 조합하기</h2> <p>2번 단계에서 구한 엑셀 파일은 <em>csv</em> 유형으로 저장한 후에 <code class="highlighter-rouge">python</code> 을 사용해서 시도 및 시군구 지역명 영문화 작업을 하였습니다. 1번 단계에서 구한 자료들에 영문명들도 포함되어 있었는데 <em>shapefile</em> 에서 데이터를 뽑아내는데 익숙지 않아 결국 구글+위키피디아를 뒤져가며 노가다로 메꾸었습니다. 다시 찾아보니 <a href="https://github.com/mbloch/mapshaper/wiki/Command-Reference" target="_blank"><em>mapshaper</em></a>에 <code class="highlighter-rouge">cut-table</code>이라는 기능이 있는듯 합니다. <del>무식해서 몸이 고생한다는 말을 몸소 실현</del></p> <h2 id="3-웹-데이터-파일-준비하기">3. 웹 데이터 파일 준비하기</h2> <p>위에서 준비한 자료들을 <code class="highlighter-rouge">d3js</code>로 읽기 위해 <code class="highlighter-rouge">mapshaper</code>를 사용하여 <em>topojson</em> 파일으로 준비하였습니다. 각 지역 단계별로 아래와 같이 콘솔에서 실행하였습니다.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 읍면동 데이터 준비 코드</span>
mapshaper <span class="nv">encoding</span><span class="o">=</span>euc-kr <span class="k">*</span>.shp <span class="se">\ </span>  <span class="c"># euc-kr로 인코딩된 shapefile을 읽어옵니다.</span>
    <span class="nt">-simplify</span> keep-shapes 3% <span class="se">\ </span>     <span class="c"># 공간정보를 3%까지 단순화 시킵니다.</span>
    <span class="nt">-proj</span> latlong <span class="se">\ </span>                <span class="c"># d3js가 읽는 투영법으로 바꾸어 줍니다.</span>
    <span class="nt">-join</span> kor_admin_3_ref_w_en.csv <span class="nv">keys</span><span class="o">=</span>EMD_CD,LVL_3_CD <span class="se">\ </span><span class="c"># csv 파일을 조합합니다.</span>
    <span class="nt">-o</span> <span class="nv">format</span><span class="o">=</span>topojson kor_admin_3.topojson <span class="c"># topojson 파일로 저장합니다.</span>
</code></pre></div></div> <h2 id="4-데이터-시각화하기">4. 데이터 시각화하기</h2> <p>위에서 준비한 데이터 파일들을 <code class="highlighter-rouge">d3js</code>로 읽어 시각화 해주었습니다. 시각화 코드는 <a href="https://github.com/mjmoon/kor-map/blob/master/js/kor-map.js" target="_blank">Github</a>에섯 확인할 수 있습니다.</p> <h2 id="느낀점-몇-가지">느낀점 몇 가지</h2> <ul> <li> <p><strong>한국 지도를 그리려고 준비하면서 한국 공간정보 구하기가 생각보다 어려웠습니다.</strong> 무료로 읍면동까지 세부정보를 찾을 수 있는 곳이 지오서비스 사이트 외에는 보이지 않았고 위에서 처럼 지역 단계별 정보가 조합된 파일은 찾아볼 수 없었습니다. 또 시각화하였을 때 읍면동까지 표시하게 되면 지도상에 겹치거나 비어있는 공간들이 보입니다. 공간정보를 많이 사용해보지 않아 중간에 단순화 작업 때문에 그런 것인지 무료로 구하려 보니 그런 것인지는 잘 모르겠습니다. <a href="http://www.naturalearthdata.com/" target="_blank">Natural Earth</a> 세계지도용 자료와 비교해서는 데이터 질이 어쩔 수 없이 부족한 거 같아 아쉬웠습니다.</p> </li> <li> <p><strong>이번에 처음 알게 되었는데 한국에는 두 종류의 동 이름이 있다고 합니다.</strong> 행정동은 법정동보다 자주 바뀌는 편이어서 공간정보자료에는 법정동이 표시되어 있다고 합니다.</p> <blockquote> <p>법정동 이름은 지적도와 주소 등 모든 법적 업무에 사용하는 행정구역 공식 명칭이다. 하지만 행정동은 행정기관들이 주민 수, 면적 등을 고려해 단순히 행정 편의를 위해 설정한 행정구역이다. 통상 동사무소로 불리는 행정기관은 이 행정동마다 1곳씩 설치돼 있다. <a href="http://www.yonhapnews.co.kr/bulletin/2018/05/21/0200000000AKR20180521134900061.HTML" target="_blank">출처:연합뉴스 - ‘한 동네, 두 이름’…헷갈리는 행정동·법정동</a></p> </blockquote> </li> <li> <p><del><strong>0개국어 능력자 같으니…</strong> 한글로 몇 년 만에 이런 긴 글을 써보았는데 페북이나 문자에나 쓰던 한글을 길게 쓰려니 어색하고 외국인 같고 어렵습니다. 근데 영어로 쓴 글을 읽어도 어색하고 외국인 같고…</del></p> </li> </ul> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="/tags/#d3js" title="Pages tagged d3js" class="tag"><span class="term">d3js</span></a><a href="/tags/#datavis" title="Pages tagged datavis" class="tag"><span class="term">datavis</span></a><a href="/tags/#map" title="Pages tagged map" class="tag"><span class="term">map</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.micbon.com/post/kor-map/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=https://blog.micbon.com/post/kor-map/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=https://blog.micbon.com/post/kor-map/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> <section id="related-posts" class="animated fadeInUp"> <div class="row"><h1>Related posts</h1></div> <div class="post-list"> <ul> <li class="wow fadeInLeft" data-wow-duration="1.0s"> <a class="zoombtn" href="/post/peace-map/">Map of Global Peace Index</a> <p><p>The interactive map below shows data from a recent <a href="https://www.olgatsubiks.com/data-for-a-cause" target="_blank">Data for a Cause Challenge</a>. The Challenge requests participants to create data visualizations for non-profit organizations. This particular challenge was about presenting the global peace trends.</p> </p> <a href="/post/peace-map/" class="btn zoombtn">Read More</a> </li> </ul> <ul> <li class="wow fadeInLeft" data-wow-duration="1.0s"> <a class="zoombtn" href="/post/bokeh-server/">A bokeh server app for up-to-date stock prices</a> <p><p>The python <code class="highlighter-rouge">bokeh</code> library lets you build data visualization applications on the web and run them on a server. Below is plot that uses <a href="https://bokeh.pydata.org/en/latest/docs/user_guide/server.html"><code class="highlighter-rouge">bokeh.server</code></a> along with other python libraries to display up-to-date (mostly U.S.) stock market closing prices.</p> </p> <a href="/post/bokeh-server/" class="btn zoombtn">Read More</a> </li> </ul> <ul> <li class="wow fadeInLeft" data-wow-duration="1.0s"> <a class="zoombtn" href="/post/linked-bokeh-plot/">Creating linked plots using Python's bokeh library</a> <p><p>In this post, I am going to create interlinked, interactive scatter plots using the <a href="https://bokeh.pydata.org/en/latest/" title="Bokeh homepage" target="_blank"><strong>Bokeh</strong></a> library. Below is the description of the library from the homepage.</p> </p> <a href="/post/linked-bokeh-plot/" class="btn zoombtn">Read More</a> </li> </ul> </div> </section> <section> <div class="footer"> &copy; 2020. Michael J. Moon. All rights reserved. <br /> Jekyll Theme: <a href="https://github.com/TaylanTatli/Moon" target="_blank" rel="noopener noreferrer">Moon</a> by TaylanTatli </div> </section> </header> <!-- JS --> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> <script src="/assets/js/jquery.dlmenu.min.js"></script> <script src="/assets/js/jquery.goup.min.js"></script> <script src="/assets/js/jquery.magnific-popup.min.js"></script> <script src="/assets/js/jquery.fitvid.min.js"></script> <script src="/assets/js/scripts.js"></script> <!-- lunr Search --> <script src="/assets/js/search.js"></script> <script type="text/javascript"> var disqus_shortname = 'micbon-blog'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </body> </html>
