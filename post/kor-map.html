<!DOCTYPE HTML>
<html>
    <head>
    <title>대한민국 법정구역 지도 | micbon | michael j. moon&#39;s personal blog</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»...">
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="/assets/css/main.css" />
    <link rel="stylesheet" href="/assets/css/syntax.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <link rel="canonical" href="https://blog.micbon.com/post/kor-map.html">
    <link rel="shortcut icon" href="/favicon.ico?v=1.1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>대한민국 법정구역 지도 | micbon</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="대한민국 법정구역 지도" />
<meta name="author" content="Michael J. Moon" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»읍면동)까지 볼 수 있습니다." />
<meta property="og:description" content="최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»읍면동)까지 볼 수 있습니다." />
<link rel="canonical" href="https://blog.micbon.com/post/kor-map.html" />
<meta property="og:url" content="https://blog.micbon.com/post/kor-map.html" />
<meta property="og:site_name" content="micbon" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-08-14T05:00:00+00:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.micbon.com/post/kor-map.html"},"@type":"BlogPosting","author":{"@type":"Person","name":"Michael J. Moon"},"url":"https://blog.micbon.com/post/kor-map.html","headline":"대한민국 법정구역 지도","dateModified":"2018-08-14T05:00:00+00:00","datePublished":"2018-08-14T05:00:00+00:00","description":"최근 d3js를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 글에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계(시도»시군구»읍면동)까지 볼 수 있습니다.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- Use Atom -->
    <link type="application/atom+xml" rel="alternate" href="https://blog.micbon.com/feed.xml" title="micbon" />
    
    <script id="dsq-count-scr" src="//micbon-blog.disqus.com/count.js" async></script>
    
</head>

    <body>
		<!-- Wrapper -->
		<div id="wrapper">
            <!-- Sidebar -->
            <div id="sidebar" class="inactive">
    <div class="inner">
        <!-- Search -->
        <section class="alt">
            <form id="search">
                <input type="text" name="q" id="search-box" placeholder="Search posts" />
            </form>
        </section>

        <!-- Menu -->
        <nav id="menu">
    <header class="major">
        <h2>Menu</h2>
    </header>
    <ul>
        <li><a href="https://blog.micbon.com/">Home</a></li>
        
        <li><a href="https://blog.micbon.com/about">About</a></li>
        
        <li><a href="https://blog.micbon.com/archives">Archives</a></li>
        
        <li><a href="https://blog.micbon.com/contact">Contact</a></li>
        
        <!-- <li>
            <span class="opener">Archives</span>
            <ul>
                <li><a href="https://blog.micbon.com/">Home</a></li>
                
                <li><a href="https://blog.micbon.com/about">About</a></li>
                
                <li><a href="https://blog.micbon.com/archives">Archives</a></li>
                
                <li><a href="https://blog.micbon.com/contact">Contact</a></li>
                
            </ul>
        </li> -->
    </ul>
</nav>


        <!-- Section -->
        <section>
            <header class="major">
                <h2>Tags</h2>
            </header>
            


<div id="tagcloud" class="box">
    <ul class="tags">
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/python/">python
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/data-visualization/">data-visualization
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/bokeh/">bokeh
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/pandas/">pandas
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/map/">map
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/javascript/">javascript
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/d3js/">d3js
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/%ED%95%9C%EA%B5%AD%EC%A7%80%EB%8F%84/">한국지도
    
  
</a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/wordpress/">wordpress
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/topojson/">topojson
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/mapshaper/">mapshaper
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/kaggle/">kaggle
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/jekyll/">jekyll
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/imputation/">imputation
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/heroku/">heroku
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/github/">github
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/git/">git
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/docker/">docker
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/cookiecutter/">cookiecutter
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/bokeh-server/">bokeh-server
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/blogging/">blogging
    </a>
        
        
        <a class="button tag" href="https://blog.micbon.com/tag/anaconda/">anaconda
    </a>
        
    </ul>
</div>

        </section>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                
                
                <li><a href="http://www.linkedin.com/in/mjmoon/" target="_blank" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
                
                
                
                <li><a href="https://www.github.com/mjmoon" target="_blank" class="icon fa-github"><span class="label">GitHub</span></a></li>
                
                
                
                <li><a href="https://www.instagram.com/micbonmoon/" target="_blank" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
                
                
                
                <li><a href="https://twitter.com/mjhmoon" target="_blank" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                
                
                
                <li><a href="https://blog.micbon.com/feed.xml" target="_blank" class="icon fa-rss-square"><span class="label">Feed</span></a></li>
                
                
            </ul>
            <p class="copyright">&copy; Michael J. Moon. All rights reserved.<br />Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
        </footer>
    </div>
</div>

			<!-- Main -->
			<div id="main">
				<div class="inner">
					<!-- Header -->
					<header id="header">
    <a href="https://blog.micbon.com/" class="logo"><strong>micbon</strong> | michael j. moon's personal blog</a>
    <ul class="icons">
        
        
        <li><a href="http://www.linkedin.com/in/mjmoon/" target="_blank" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
        
        
        
        <li><a href="https://www.github.com/mjmoon" target="_blank" class="icon fa-github"><span class="label">GitHub</span></a></li>
        
        
        
        <li><a href="https://www.instagram.com/micbonmoon/" target="_blank" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
        
        
        
        <li><a href="https://twitter.com/mjhmoon" target="_blank" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
        
        
        
        <li><a href="https://blog.micbon.com/feed.xml" target="_blank" class="icon fa-rss-square"><span class="label">Feed</span></a></li>
        
        
    </ul>
</header>

					<section>
    <header class="main">
        <h1>대한민국 법정구역 지도</h1>
    </header>
    
    <p>최근 <code class="highlighter-rouge">d3js</code>를 이용하여 지도 그리는 법을 익혀보는 중입니다. 지난 <a href="https://blog.micbon.com/post/peace-map.html" target="_blank">글</a>에서는 세계지도에 Global Peace Index를 표기해보았는데 이번에는 한국 지도를 한/영 지역명과 함께 아래와 같이 그려 보았습니다. 지도상에 색으로 표시된 지역을 클릭하면 세부지도를 3단계<sub>(시도»시군구»읍면동)</sub>까지 볼 수 있습니다.</p>

<link rel="stylesheet" href="/assets/css/plot/2018-08-09-kor-map.css" />

<div id="k-map" class="row">
    <div class="6u 12u$(small)">
        <div id="main-map" class="map-container">
        </div>
    </div>
    <div class="6u$ 12u$(small)">
        <div class="meta">
            <div>
                <!-- <h1>대한민국 법정구역 지도</h1>
                <h2>Map of Republic of Korea</h2> -->
            </div>
            <div class="widget">
                <label class="switch">
                    <input type="checkbox" name="theme-toggle" id="theme-toggle" onclick="toggleTheme()" />
                    <span class="check-slider"></span>
                </label>
                <label for="theme-toggle" class="switch-label">Dark Theme</label>
            </div>
            <div id="ctprvn-nm" class="display"></div>
            <div id="sig-nm" class="display"></div>
            <div id="emd-nm" class="display"></div>
        </div>
    </div>
</div>
<script src="https://d3js.org/d3.v5.min.js"></script>

<script src="http://d3js.org/topojson.v1.min.js"></script>

<script src="/assets/js/plot/2018-08-09-kor-map.js"></script>

<p><a href="https://github.com/mjmoon/kor-map" target="_blank"><i class="icon fa-github"></i> Github Repository</a></p>

<h2 id="1-공간정보-받아오기">1. 공간정보 받아오기</h2>

<p>지도를 표시하기 위해서는 시도, 시군구 및 읍면동 정보를 포함한 한국 지역 공간정보가 필요했습니다. 구글 검색을 통해서 <a href="http://www.gisdeveloper.co.kr/?p=2332">지오서비스</a>에서 해당 정보가 포함된 <em>shapefile</em> 데이터를 받을 수 있었습니다. 사용한 자료는 2018년 4월 업데이트 공간정보입니다.</p>

<h2 id="2-주소코드정보-받아오기">2. 주소코드정보 받아오기</h2>

<p>위에서 받아온 공간정보 자료는 시도, 시군구, 읍면동(법정동) 구분하여 자료마다 단계별 지역 정보만 포함이 되어있었습니다. 세 단계의 지역 정보를 이어주기 위한 - 예를 들어서 이촌동(읍면동)을 용산구(시군구)와 잇고 다시 서울특별시(시도)와 잇기 위한 주소정보가 필요하였습니다. 해당 정보는 <a href="http://www.mois.go.kr/frt/bbs/type001/commonSelectBoardArticle.do?bbsId=BBSMSTR_000000000052&amp;nttId=62603" target="_blank">행정안전부 사이트</a>에서 엑셀 파일으로 구할 수 있었습니다.</p>

<h2 id="3-영문-정보-조합하기">3. 영문 정보 조합하기</h2>

<p>2번 단계에서 구한 엑셀 파일은 <em>csv</em> 유형으로 저장한 후에 <code class="highlighter-rouge">python</code> 을 사용해서 시도 및 시군구 지역명 영문화 작업을 하였습니다. 1번 단계에서 구한 자료들에 영문명들도 포함되어 있었는데 <em>shapefile</em>  에서 데이터를 뽑아내는데 익숙지 않아 결국 구글+위키피디아를 뒤져가며 노가다로 메꾸었습니다. 다시 찾아보니 <a href="https://github.com/mbloch/mapshaper/wiki/Command-Reference" target="_blank"><em>mapshaper</em></a>에 <code class="highlighter-rouge">cut-table</code>이라는 기능이 있는듯 합니다. <del>무식해서 몸이 고생한다는 말을 몸소 실현</del></p>

<h2 id="3-웹-데이터-파일-준비하기">3. 웹 데이터 파일 준비하기</h2>

<p>위에서 준비한 자료들을 <code class="highlighter-rouge">d3js</code>로 읽기 위해 <code class="highlighter-rouge">mapshaper</code>를 사용하여 <em>topojson</em> 파일으로 준비하였습니다. 각 지역 단계별로 아래와 같이 콘솔에서 실행하였습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 읍면동 데이터 준비 코드</span>
mapshaper <span class="nv">encoding</span><span class="o">=</span>euc-kr <span class="k">*</span>.shp <span class="se">\ </span>  <span class="c"># euc-kr로 인코딩된 shapefile을 읽어옵니다.</span>
    <span class="nt">-simplify</span> keep-shapes 3% <span class="se">\ </span>     <span class="c"># 공간정보를 3%까지 단순화 시킵니다.</span>
    <span class="nt">-proj</span> latlong <span class="se">\ </span>                <span class="c"># d3js가 읽는 투영법으로 바꾸어 줍니다.</span>
    <span class="nt">-join</span> kor_admin_3_ref_w_en.csv <span class="nv">keys</span><span class="o">=</span>EMD_CD,LVL_3_CD <span class="se">\ </span><span class="c"># csv 파일을 조합합니다.</span>
    <span class="nt">-o</span> <span class="nv">format</span><span class="o">=</span>topojson kor_admin_3.topojson <span class="c"># topojson 파일로 저장합니다.</span>
</code></pre></div></div>

<h2 id="4-데이터-시각화하기">4. 데이터 시각화하기</h2>

<p>위에서 준비한 데이터 파일들을 <code class="highlighter-rouge">d3js</code>로 읽어 시각화 해주었습니다. 시각화 코드는 <a href="https://github.com/mjmoon/kor-map/blob/master/js/kor-map.js" target="_blank">Github</a>에섯 확인할 수 있습니다.</p>

<h2 id="느낀점-몇-가지">느낀점 몇 가지</h2>

<ul>
  <li>
    <p><strong>한국 지도를 그리려고 준비하면서 한국 공간정보 구하기가 생각보다 어려웠습니다.</strong> 무료로 읍면동까지 세부정보를 찾을 수 있는 곳이 지오서비스 사이트 외에는 보이지 않았고 위에서 처럼 지역 단계별 정보가 조합된 파일은 찾아볼 수 없었습니다. 또 시각화하였을 때 읍면동까지 표시하게 되면 지도상에 겹치거나 비어있는 공간들이 보입니다. 공간정보를 많이 사용해보지 않아 중간에 단순화 작업 때문에 그런 것인지 무료로 구하려 보니 그런 것인지는 잘 모르겠습니다. <a href="http://www.naturalearthdata.com/" target="_blank">Natural Earth</a> 세계지도용 자료와 비교해서는 데이터 질이 어쩔 수 없이 부족한 거 같아 아쉬웠습니다.</p>
  </li>
  <li>
    <p><strong>이번에 처음 알게 되었는데 한국에는 두 종류의 동 이름이 있다고 합니다.</strong> 행정동은 법정동보다 자주 바뀌는 편이어서 공간정보자료에는 법정동이 표시되어 있다고 합니다.</p>

    <blockquote>
      <p>법정동 이름은 지적도와 주소 등 모든 법적 업무에 사용하는 행정구역 공식 명칭이다. 하지만 행정동은 행정기관들이 주민 수, 면적 등을 고려해 단순히 행정 편의를 위해 설정한 행정구역이다. 통상 동사무소로 불리는 행정기관은 이 행정동마다 1곳씩 설치돼 있다. <a href="http://www.yonhapnews.co.kr/bulletin/2018/05/21/0200000000AKR20180521134900061.HTML" target="_blank">출처:연합뉴스 - ‘한 동네, 두 이름’…헷갈리는 행정동·법정동</a></p>
    </blockquote>
  </li>
  <li>
    <p><del><strong>0개국어 능력자 같으니…</strong> 한글로 몇 년 만에 이런 긴 글을 써보았는데 페북이나 문자에나 쓰던 한글을 길게 쓰려니 어색하고 외국인 같고 어렵습니다. 근데 영어로 쓴 글을 읽어도 어색하고 외국인 같고…</del></p>
  </li>
</ul>

</section>
<section>
    <div class="row">
        <div class="5u 12u$(medium)">
            <h2>Tags</h2>
<ul class="tags">
    
    <a class="button tag" href="https://blog.micbon.com/tag/d3js/">d3js</a>
    
    <a class="button tag" href="https://blog.micbon.com/tag/javascript/">javascript</a>
    
    <a class="button tag" href="https://blog.micbon.com/tag/map/">map</a>
    
    <a class="button tag" href="https://blog.micbon.com/tag/mapshaper/">mapshaper</a>
    
    <a class="button tag" href="https://blog.micbon.com/tag/topojson/">topojson</a>
    
    <a class="button tag" href="https://blog.micbon.com/tag/%ED%95%9C%EA%B5%AD%EC%A7%80%EB%8F%84/">한국지도</a>
    
</ul>

        </div>
        <div class="4u 6u(medium)">
            <h2>Share</h2>
<ul class="icons square">
    <li><a class="icon fa-facebook-square" label="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.micbon.com/post/kor-map.html&amp;title=대한민국 법정구역 지도" target="_blank"></a></li>
    <li><a class="icon fa-twitter-square" label="twitter" href="https://twitter.com/intent/tweet?text=대한민국 법정구역 지도&amp;url=https://blog.micbon.com/post/kor-map.html" target="_blank"></a></li>
    <li><a class="icon fa-google-plus-square" label="google-plus" href="https://plus.google.com/share?url=https://blog.micbon.com/post/kor-map.html" target="_blank"></a></li>
    <li><a class="icon fa-linkedin-square" label="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://blog.micbon.com/post/kor-map.html&title=대한민국 법정구역 지도&source=micbon"></a></li>
</ul>

        </div>
        <div class="3u$ 6u$(medium)">
            <ul class="alt">
                <li>Written on: Aug 14, 2018</li>
                <li>Written by: Michael J. Moon</li>
            </ul>
        </div>
    </div>
    
    <div class="disqus">
    <div id="disqus_thread"></div>
    <script>

    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

    var disqus_config = function () {
    this.page.url = "https://blog.micbon.com/post/kor-map.html";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = "https-blog-micbon-com-post-kor-map-html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://micbon-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

    
</section>

<header class="major">
    <h2>Related posts</h2>
</header>
<section>
    <div class="posts">
    
    
        
            
        
            
            <article>
                
                <h3><a href="https://blog.micbon.com/post/peace-map.html">Map of Global Peace Index</a></h3>
                <h6>Jul 30, 2018</h6>
                <p><p>The interactive map below shows data from a recent <a href="https://www.olgatsubiks.com/data-for-a-cause" target="_blank">Data for a Cause Challenge</a>. The Challenge requests participants to create data visualizations for non-profit organizations. This particular challenge was about presenting the global peace trends.</p>

</p>
                <ul class="tags">
                    
                    <a class="button tag" href="https://blog.micbon.com/tag/d3js/">d3js</a>
                    
                    <a class="button tag" href="https://blog.micbon.com/tag/javascript/">javascript</a>
                    
                    <a class="button tag" href="https://blog.micbon.com/tag/data-visualization/">data-visualization</a>
                    
                    <a class="button tag" href="https://blog.micbon.com/tag/map/">map</a>
                    
                </ul>
            </article>
            
            
        
    
        
            
        
            
        
    
        
            
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
    </div>
</section>



				</div>
			</div>
            <button class="special icon fa-chevron-up" onclick="topFunction()" id="scroll-to-top" title="Go to top">Top</button>

        </div>
        <!-- Scripts -->
		<script src="/assets/js/skel.min.js"></script>
<script src="/assets/js/util.js"></script>
<!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js"></script><![endif]-->
<script src="/assets/js/main.js"></script>
<!-- lunr Search -->
<script src="/assets/js/search.js"></script>
<!-- Scroll to top -->
<script src="/assets/js/scrolltop.js"></script>

	</body>
</html>
